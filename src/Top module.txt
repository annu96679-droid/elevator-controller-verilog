**Top Module**

module elevator_top(
    input clk, rst, emergency_button,
    input [3:0] floor_request,
    output [3:0] current_floor,
    output door_open,
    output in_emergency,
    output moving_up,
    output moving_down
);

    wire move_up, move_down, open_door_cmd, close_door_cmd, direction_up;
    
    // Controller instance
    elevator_controller controller(.clk(clk), .rst(rst), .emergency_button(emergency_button), .request_floor(floor_request), .current_floor(current_floor), .door_open(door_open), 
    .direction_up(direction_up), .move_up(move_up), .move_down(move_down), .open_door_cmd(open_door_cmd), .close_door_cmd(close_door_cmd));
    
    // Datapath instance
    elevator_datapath datapath(.clk(clk), .rst(rst), .move_up(move_up), .move_down(move_down), .open_door_cmd(open_door_cmd), .close_door_cmd(close_door_cmd),
     .emergency(emergency_button), .request_floor(floor_request), .current_floor(current_floor), .door_open(door_open), .in_emergency(in_emergency), .direction_up(direction_up));
    
    assign moving_up = move_up;
    assign moving_down = move_down;

endmodule

